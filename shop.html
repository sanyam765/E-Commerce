<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HearHut Shop</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* ===== GENERAL ===== */
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  background: #fff;
}
a { text-decoration: none; color: inherit; }

/* ===== NAVBAR ===== */
.navbar {
  display: flex;
  justify-content: space-between; 
  align-items: center;
  padding: 15px 30px;
  background: #fff;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  position: sticky;
  top: 0;
  z-index: 100;
}
.navbar .logo {
  font-weight: 600;
  font-size: 22px;
  color: #0072ff;
}

/* ===== CATEGORY BAR ===== */
.category-bar {
  display: flex;
  gap: 15px;
  padding: 15px 30px;
  background: #f9f9f9;
  border-bottom: 1px solid #eee;
  overflow-x: auto;
}
.category-bar::-webkit-scrollbar { display: none; }

.category-item {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}
.category-item:hover {
  background: #0072ff;
  color: #fff;
}
.category-item i { margin-right: 6px; }

/* ===== SEARCH ===== */
.shop-container {
  padding: 30px 50px;
}
#shopSearch {
  width: 100%;
  padding: 14px;
  margin-bottom: 30px;
  border-radius: 12px;
  border: 1px solid #ccc;
  font-size: 16px;
  box-sizing: border-box;
}

/* ===== PRODUCT GRID ===== */
.product-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 25px;
  margin-bottom: 50px;
}
.product-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0,0,0,0.06);
  transition: transform 0.2s;
}
.product-card:hover { transform: translateY(-5px); }
.product-card img { width: 100%; border-bottom: 1px solid #eee; }

.card { padding: 16px; }
.card h3 { font-size: 18px; margin: 10px 0 5px; color: #222; }
.card p { margin: 5px 0; font-weight: 500; font-size: 14px; color: #555; }
.add-to-cart {
  display: inline-block;
  margin-top: 12px;
  background: #0072ff;
  color: #fff;
  padding: 8px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  transition: background 0.2s;
}
.add-to-cart:hover { background: #005ecc; }

/* ===== CART POPUP ===== */
.cart-popup {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 320px;
  max-height: 450px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;
}
.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: #0072ff;
  color: #fff;
}
.cart-items { padding: 12px; flex: 1; overflow-y: auto; }
.cart-items div { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
.remove-item {
  background: red;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  padding: 2px 6px;
}
.cart-footer { padding: 12px; font-weight: 600; background: #f0f0f0; }
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="logo">HearHut</div>
  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="#" id="cart-icon">
      <i class="fas fa-shopping-cart"></i>
      <span id="cart-count">0</span>
    </a>
  </div>
</nav>

<!-- CATEGORY BAR -->
<div class="category-bar">
  <div class="category-item" data-category="all"><i class="fas fa-th-large"></i> All</div>
  <div class="category-item" data-category="earphones"><i class="fas fa-headphones-alt"></i> Earphones</div>
  <div class="category-item" data-category="headphones"><i class="fas fa-volume-up"></i> Headphones</div>
  <div class="category-item" data-category="earbuds"><i class="fas fa-microphone-alt"></i> Earbuds</div>
</div>

<!-- SHOP CONTAINER -->
<div class="shop-container">
  <input type="text" id="shopSearch" placeholder="Search products...">
  <div class="product-grid" id="shopGrid"></div>
</div>

<!-- CART POPUP -->
<div id="cart-popup" class="cart-popup">
  <div class="cart-header">
    <h3>Your Cart</h3>
    <button id="close-cart">&times;</button>
  </div>
  <div class="cart-items" id="cart-items"></div>
  <div class="cart-footer">
    Total: ₹<span id="cart-total">0</span>
  </div>
</div>

<script>
// ===== CUSTOM PRODUCTS DATA =====
const productsData = [
  {id:1, title:"BassBoost Earphones", price:1200, category:"earphones", description:"High bass earphones", image:"https://picsum.photos/300/200?random=1"},
  {id:2, title:"NoiseCancelling Headphones", price:3500, category:"headphones", description:"Block unwanted noise", image:"https://picsum.photos/300/200?random=2"},
  {id:3, title:"Wireless Earbuds X1", price:2500, category:"earbuds", description:"Truly wireless earbuds", image:"https://picsum.photos/300/200?random=3"},
  {id:4, title:"Sport Earphones", price:1000, category:"earphones", description:"Perfect for workouts", image:"https://picsum.photos/300/200?random=4"},
  {id:5, title:"Studio Headphones", price:4200, category:"headphones", description:"Professional studio sound", image:"https://picsum.photos/300/200?random=5"},
  {id:6, title:"Mini Earbuds", price:1800, category:"earbuds", description:"Compact and stylish", image:"https://picsum.photos/300/200?random=6"}
];


// ===== DOM ELEMENTS =====
const shopGrid = document.getElementById("shopGrid");
const shopSearch = document.getElementById("shopSearch");
const categoryItems = document.querySelectorAll(".category-item");
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartCount = document.getElementById("cart-count");
const cartPopup = document.getElementById("cart-popup");
const cartItemsContainer = document.getElementById("cart-items");
const cartTotal = document.getElementById("cart-total");
const cartIcon = document.getElementById("cart-icon");
const closeCartBtn = document.getElementById("close-cart");

// ===== CART FUNCTIONS =====
function updateCartCounter() { cartCount.innerText = cart.reduce((sum,i)=>sum+i.quantity,0); }

function renderCart(){
  cartItemsContainer.innerHTML = '';
  let total = 0;
  cart.forEach(item => {
    total += item.price*item.quantity;
    const div = document.createElement("div");
    div.innerHTML = `<span>${item.title} x ${item.quantity}</span>
                     <span>₹${item.price*item.quantity} <button class="remove-item" data-id="${item.id}">Remove</button></span>`;
    cartItemsContainer.appendChild(div);
  });
  cartTotal.innerText = total;
  document.querySelectorAll(".remove-item").forEach(btn => {
    btn.addEventListener("click", ()=>{
      cart = cart.filter(p=>p.id!=btn.dataset.id);
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCounter();
      renderCart();
    });
  });
}

function addToCart(product){
  const existing = cart.find(p=>p.id===product.id);
  if(existing) existing.quantity+=1;
  else cart.push({...product, quantity:1});
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCounter();
  renderCart();
}

// ===== INITIAL LOAD =====
function displayProducts(products){
  shopGrid.innerHTML='';
  if(products.length===0){ shopGrid.innerHTML="<p>No products found.</p>"; return;}
  products.forEach(product=>{
    const div = document.createElement("div");
    div.classList.add("product-card");
    div.dataset.id = product.id;
    div.innerHTML = `
      <img src="${product.image}" alt="${product.title}">
      <div class="card">
        <h3>${product.title}</h3>
        <p>₹${product.price}</p>
        <p>${product.description}</p>
        <a href="#" class="add-to-cart">Add to Cart</a>
      </div>
    `;
    shopGrid.appendChild(div);
  });

  document.querySelectorAll(".add-to-cart").forEach(btn=>{
    btn.addEventListener("click", e=>{
      e.preventDefault();
      const card = btn.closest(".product-card");
      const product = productsData.find(p=>p.id==card.dataset.id);
      addToCart(product);
    });
  });
}

// ===== CART EVENTS =====
cartIcon.addEventListener("click", e=>{ e.preventDefault(); cartPopup.style.display=cartPopup.style.display==="flex"?"none":"flex"; });
closeCartBtn.addEventListener("click", ()=>cartPopup.style.display="none");

// ===== CATEGORY CLICK =====
categoryItems.forEach(item=>{
  item.addEventListener("click", ()=>{
    const category = item.dataset.category;
    let filtered = category==="all"?productsData:productsData.filter(p=>p.category===category);
    filtered = filtered.filter(p=>p.title.toLowerCase().includes(shopSearch.value.toLowerCase()));
    displayProducts(filtered);
  });
});

// ===== SEARCH =====
shopSearch.addEventListener("keydown", e=>{
  if(e.key==="Enter"){
    let filtered = productsData.filter(p=>p.title.toLowerCase().includes(shopSearch.value.toLowerCase()));
    displayProducts(filtered);
  }
});

// ===== INITIAL DISPLAY =====
displayProducts(productsData);
updateCartCounter();
renderCart();
</script>

</body>
</html>
